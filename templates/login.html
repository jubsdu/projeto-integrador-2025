<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Login - Dr.Saúde</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* === CORES === */
:root{
    --primary: #0078c8;
    --primary-dark: #005c99;
    --light: #f8f9fa;
    --dark: #343a40;
    --danger: #dc3545;
    --glass: rgba(255,255,255,0.95);
}

/* RESET */
*{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}
html,body{height:100%;}

/* BACKGROUND */
body{
    background:
        linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
        url('https://versatilis.com.br/wp-content/uploads/2024/06/direito-do-consumidor-no-retorno-de-consulta-medica.png');
    background-size:cover;
    background-position:center;
    display:flex;
    flex-direction:column;
    min-height:100vh;
    position: relative;
}

/* FRASE */
.hero-text{
    position: absolute;
    top: 40%;
    left: 8%;
    transform: translateY(-50%);
    color: #ffffff;
    font-size: 3.2rem;
    font-weight: 700;
    line-height: 1.3;
    text-shadow: 0 6px 30px rgba(0,0,0,0.6);
    max-width: 500px;
    border-left: 6px solid #00b4d8;
    padding-left: 20px;
    animation: slideIn 1s ease;
}

/* SLIDE ANIMATION */
@keyframes slideIn{
    from{opacity:0;transform:translateY(-30px);}
    to{opacity:1;transform:translateY(-50%);}
}

/* HEADER */
header{
    background-color: var(--glass);
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    position: sticky;
    top:0;
    z-index:1000;
}
.header-container{
    max-width:1200px;
    margin:0 auto;
    padding:20px 40px;
    display:flex;
    align-items:center;
    justify-content:space-between;
}
.logo{
    display:flex;
    align-items:center;
    color:var(--primary);
    font-size:1.8rem;
}
.logo i{margin-right:8px;}

nav ul{
    display:flex;
    gap:40px;
    list-style:none;
}
nav ul li a{
    color:var(--dark);
    text-decoration:none;
    font-weight:500;
}
nav ul li a:hover{color:var(--primary);}

/* FORM */
.form-section{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:flex-end;
    padding:60px 80px;
}
.form-box{
    background:#fff;
    padding:60px 50px;
    border-radius:25px;
    width:100%;
    max-width:500px;
    box-shadow:0 6px 35px rgba(0,0,0,0.25);
}
.form-box h2{
    text-align:center;
    color:var(--primary);
    margin-bottom:35px;
    font-size:2rem;
}

label{
    font-weight:500;
    margin-bottom:5px;
    display:block;
}
input{
    width:100%;
    padding:14px 16px;
    border:1px solid #ddd;
    border-radius:8px;
    margin-bottom:22px;
    font-size:1rem;
}
input:focus{
    border-color:var(--primary);
    box-shadow:0 0 6px rgba(0,120,200,0.3);
    outline:none;
}

button{
    background:linear-gradient(90deg,var(--primary),var(--primary-dark));
    color:white;
    border:none;
    padding:14px;
    border-radius:8px;
    width:100%;
    font-size:1.1rem;
    cursor:pointer;
    font-weight:600;
}
button:hover{opacity:0.9;}

.switch-link{
    text-align:center;
    margin-top:20px;
}
.switch-link a{
    color:var(--primary);
    text-decoration:none;
    font-weight:500;
}
.switch-link a:hover{text-decoration:underline;}

#msg-login{
    text-align:center;
    color:var(--danger);
    margin-top:10px;
    font-weight:bold;
}

/* FOOTER */
footer{
    background:#000000d0;
    color:white;
    text-align:center;
    padding:18px;
}
</style>
</head>

<body>

<header>
    <div class="header-container">
        <div class="logo"><i class="fa-solid fa-heart-pulse"></i> Dr.Saúde</div>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/page/agendar">Agendar Consultas</a></li>
                <li><a href="/page/consultas">Minhas Consultas</a></li>
                <li><a href="/page/cadastro">Cadastro</a></li>
            </ul>
        </nav>
    </div>
</header>

<div class="hero-text">
    Bem-vindo de volta, <span>sua saúde importa.</span>
</div>

<section class="form-section">
    <div class="form-box">
        <h2>Login</h2>

        <form id="form-login">
            <label>Email</label>
            <input type="email" id="login-email" required>

            <label>Senha</label>
            <input type="password" id="login-senha" required>

            <button type="submit">Entrar</button>
        </form>

        <p id="msg-login"></p>

        <p class="switch-link">
            Ainda não tem conta? <a href="/page/cadastro">Cadastre-se</a>
        </p>
    </div>
</section>

<footer>
    © 2025 Dr.Saúde - Todos os direitos reservados
</footer>

<script>
const API_LOGIN = "/login";

document.getElementById("form-login").onsubmit = async (e) => {
    e.preventDefault();

    const data = {
        email: document.getElementById("login-email").value,
        senha: document.getElementById("login-senha").value
    };

    const res = await fetch(API_LOGIN, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    });

    const msg = document.getElementById("msg-login");

    if (res.ok) {
        const json = await res.json();
        msg.style.color = "green";
        msg.textContent = "Login realizado!";
        setTimeout(() => {
            window.location.href = "/"; // redireciona para home
        }, 800);
    } else {
        msg.style.color = "red";
        msg.textContent = "Email ou senha incorretos!";
    }
};
</script>

</body>
</html>
